# SaihAI 機能要件（機能一覧）

- 元資料: SaihAI機能一覧スプシ
- 本ドキュメントは、ユーザー（マネージャー）が直接触れる部分（UI/UX）と、裏側で動作するロジック部分（バックエンド）の2部構成です。
- `mock受け入れ` 凡例: `〇`=受け入れ / `△`=一部受け入れ / `×`=未受け入れ

## 1. UI/UX 要件（Frontend / Interface）

「Webダッシュボード（分析用）」と「Slackインターフェース（通知・承認用）」の2層で構成されます。

### A. SaihAI Dashboard（Webアプリ / Angular）

深い分析や、複雑なシミュレーション結果を可視化するための管理画面です。

| 機能カテゴリ | 詳細機能 | mock受け入れ | 現状・メモ |
| --- | --- | --- | --- |
| プロジェクト・メンバー可視化 | 現在のプロジェクト体制図とメンバー一覧の表示。 | × | プロジェクト体制がない。<br>メンバー一覧ぽいものはある。<br><br>戦術シミュレーターでは表現されている（体制じゃなくて、参画者だけが表示されている）。<br>参画しているのか、これからアサインしようとしているのかは判別できない。 |
| プロジェクト・メンバー可視化 | メンバーの「Genome（ゲノム）」詳細表示（スキル、モチベーション推移、キャリア志向）。 | × | 人材/案件DBタブで人は表示されているが、詳細は表示されていない。 |
| プロジェクト・メンバー可視化 | ドラッグ＆ドロップによる手動シミュレーション操作。 | × | できません！<br>必要？じゃないかも？<br>複数のプロジェクトに対して同時にプロットを試みたいのであれば必要な気がする。 |
| リアルタイム診断・警告UI | 手動配置時のリアルタイム予算判定・要件カバー率判定。 | × | リアルタイム予算判定はできている。<br>要件カバー率判定が出ていない。枠はあるが、「アサイン待機中」が表示され続ける。 |
| リアルタイム診断・警告UI | リスクアラート表示: 「予算オーバー」「離職リスク（燃え尽き予兆）」を赤字やアイコンで警告。 | × | キャリア適合 & 市場価値予測になにも出ない。<br>予算オーバーは出る。<br>右の専門家エージェントの会話では一部表現されている。 |
| AI戦略提案モーダル（The Gunshi View） | 3つの戦略プラン提示: 「プランA（堅実）」「プランB（投資/挑戦）」「プランC（コスト重視）」の並列表示。 | 〇 | できてる。<br>現状要件にないがスコアも出ている。こっちの方がよいので機能要件に追加する。 |
| AI戦略提案モーダル（The Gunshi View） | 推奨プランのハイライト: 「AI推奨バッジ」や「ドリームマッチ」エフェクトを表示。 | × | 推奨プランのハイライトは出ている。<br>ドリームマッチなどは「キャリア適合 & 市場価値予測」になにも表示されていないため表出なし。 |
| AI戦略提案モーダル（The Gunshi View） | 各プランのメリット・デメリット（トレードオフ）のテキスト表示。 | 〇 | 出ている。より詳細に表示するかは要検討。 |
| 未来予測グラフ | 選択したプランを実行した場合の、3ヶ月後のチーム力や予算推移の予測グラフ表示。 | × | 要件充足 & 未来シナリオがなにも表示されていないため。 |

### B. Slack / Chat Interface（Communication Layer）

AIからの能動的な通知と、人間の介入を受け付けるインターフェースです。（v2.0の核）

| 機能カテゴリ | 詳細機能 | mock受け入れ | 現状・メモ |
| --- | --- | --- | --- |
| プッシュ通知（Shadow Monitoring） | 異常検知通知: 「〇〇さんに燃え尽きの兆候あり」といったアラートを能動的に通知。 | 〇 | できている。 |
| プッシュ通知（Shadow Monitoring） | 承認依頼通知: AIが作成したアクション案（メール下書き等）を提示し、承認を求める。 | 〇 | できている。 |
| インタラクティブ・アクション | ワンクリック承認（Approve）: ボタン一つで、AIが準備したメール送信や申請を実行。 | △ | できているけど、承認実行後に戦術シミュレーターに遷移するのがいけてない。<br>結果はSlackにすべて通知して、戦術シミュレーターへのリンクなどが出るのがよさそう。 |
| インタラクティブ・アクション | 自然言語による介入（Intervention）: チャットでの返信（例: 「メールは来週にして」）によるAIプランの修正機能。 | × | 自然言語介入はできるが、した後のデモが動かない。 |

## 2. バックエンド機能要件（Backend / Logic）

LangGraphを用いた「マルチエージェントシステム」と、AWS上のインフラ機能です。

### A. コア・ロジック（LangGraph / Python）

思考し、判断し、記憶する「頭脳」部分です。

| エージェント種別 | 機能 | 詳細 |
| --- | --- | --- |
| Orchestrator (Gunshi Agent) | 司令塔・調停 | 各専門エージェント（HR, PM, Risk）への指令出し。<br>相反する意見（利益 vs 感情）の調停ロジック。<br>3つの戦略シナリオ（松・竹・梅）の合成・生成機能。 |
| Specialist Agents (専門家群) | 分析・評価 | HR Agent: 週報等の非構造化データからモチベーションやキャリア志向を解析。<br>PM Agent: スキル適合率、予算消化率の計算。<br>Risk Agent: 過去データに基づく離職確率の算出、炎上リスク予測。 |
| Auto-Nemawashi (根回し実行) | 自動アクション | Drafting Agent: 状況に応じたメール文面（クライアント連絡用、メンバー面談招待用）の自動生成。<br>Calendar Agent: カレンダーAPIと連携した日程調整・仮押さえ（※モックまたはAPI連携）。 |
| Human-in-the-loop (HITL) 制御 | 人間介入制御 | Checkpoint & Interrupt: AIの実行プロセスを「承認待ち」状態で一時停止させる機能。<br>State Persistence: ユーザー介入まで計算状態をDB（PostgreSQL / langgraph_checkpoints）に保持し、指示を受けて再開（Resume）する機能。 |

### B. データ処理・インフラ（Data & Infrastructure）

「勘」を「データ」に変えるための基盤です。

| 機能カテゴリ | 詳細機能 |
| --- | --- |
| Watchdog Trigger（常時監視） | Cron/EventBridgeによる定期実行トリガー。ユーザーがログインしていなくても裏で解析を回す仕組み。 |
| Genome解析・RAG基盤 | Vector DB連携: 週報、面談ログ、Slackログ等の非構造化データをベクトル化して保存（Pinecone/pgvector）。<br>Semantic Search: 「疲れている」「新しいことに挑戦したい」といったニュアンスを検索する機能。 |
| データ統合管理 | RDB（PostgreSQL）による社員マスタ、案件マスタ、勤怠データの管理。 |
