id: exp-java21-loom-a
kind: experiment
version: "1.0.0"
status: experimental

labels:
  language: java
  language_version: "21"
  runtime: jvm
  constraint: [offline_only, hitl_strict]

tags: ["java21", "ab"]

hypothesis: "Maintainability を上げるため、並行性の設計意図（仮想スレッドの適用理由）をPlanに残す"
scope:
  goal_dimensions: [Maintainability, Explainability]
  timebox_days: 14
  min_samples: 20

extends:
  - rulesets/language/java-v21.yaml

patch:
  operations:
    - op: merge
      target: templates.plan
      component_id: tpl.plan.risks-unknowns
      value:
        add_required_bullets:
          - "並行性モデル（virtual threads / executor）の採用理由と代替案"
          - "スループット/レイテンシへの影響と監視点"
      expected_effect:
        Maintainability: 0.15
        Explainability: 0.10
      notes: "Java21の並行性判断をHITLで説明可能にする"
