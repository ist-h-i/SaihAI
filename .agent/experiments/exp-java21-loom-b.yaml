id: exp-java21-loom-b
kind: experiment
version: "1.0.0"
status: experimental

labels:
  language: java
  language_version: "21"
  runtime: jvm
  constraint: [offline_only, hitl_strict]

tags: ["java21", "ab"]

hypothesis: "Safety を上げるため、並行性（共有状態/同期）のレビュー観点と禁則を強化する"
scope:
  goal_dimensions: [Safety]
  timebox_days: 14
  min_samples: 20

extends:
  - rulesets/language/java-v21.yaml

patch:
  operations:
    - op: add
      target: rulesets.language.java-v21.rules.review.focus
      component_id: rule.lang.java.no-shared-mutable-state
      value: "no_shared_mutable_state"  # 共有可変状態を避ける観点
      expected_effect:
        Safety: 0.15
      notes: "仮想スレッド導入時の共有状態事故をレビューで早期検知"
